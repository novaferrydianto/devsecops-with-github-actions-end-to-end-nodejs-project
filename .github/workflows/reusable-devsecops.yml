name: Reusable â€” DevSecOps Node Template

on:
  workflow_call:
    inputs:
      run_zap_only:
        required: false
        type: string
        default: 'false'
    secrets:
      SONAR_TOKEN:
        required: true
      SONAR_ORG:
        required: true
      SONAR_PROJECT_KEY:
        required: true
      SNYK_TOKEN:
        required: true

jobs:
  call_ci:
    uses: ./.github/workflows/ci.yml

  call_security:
    uses: ./.github/workflows/security.yml
    with:
      run_zap_only: ${{ inputs.run_zap_only }}
